export interface User {
  id: number;
  email: string;
  name: string | null;
  createdAt?: string;
}

export interface AuthResponse {
  token: string;
  user: User;
}

export interface Deck {
  id: number;
  userId?: number;
  title: string;
  description: string | null;
  createdAt?: string;
  updatedAt?: string;
  created_at?: string;
  updated_at?: string;
  items?: DeckItem[];
}

export interface DeckItem {
  id?: number;
  deckId?: number | string;
  deck_id?: number;
  itemNumber?: number;
  item_number?: number;
  content: string | null;
  createdAt?: string;
  updatedAt?: string;
  created_at?: string;
  updated_at?: string;
}

export interface SignupData {
  email: string;
  password: string;
  name?: string;
}

export interface LoginData {
  email: string;
  password: string;
}

export interface CreateDeckData {
  title: string;
  description?: string;
}

export interface UpdateDeckData {
  title?: string;
  description?: string;
}

export interface UpdateItemData {
  content: string | null;
}

// インセプションデッキの10項目
export const INCEPTION_DECK_ITEMS = [
  {
    number: 1,
    title: '我々はなぜここにいるのか',
    description: 'Why are we here?',
    guide: 'プロジェクトの根本的な存在意義を明確にする質問です。\n「このプロジェクトがなかったら、世界はどう困るのか？」を考えてください。\n\n以下の観点から記述してください：\n\n【❶ 解決したい課題】\n現在存在している問題や課題は何か\n\n【❷ ビジネス上の目的】\n会社やチームとして何を達成したいのか\n\n【❸ ユーザーへの価値】\nユーザーにどんな価値を提供するのか\n\n【❹ 社会的意義】\nこのプロジェクトが社会にもたらす影響は何か\n\n【❺ チームのモチベーション】\nなぜ私たちがこのプロジェクトに取り組むのか',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ 解決したい課題】\n中小企業の60%が在庫管理を手作業で行っており、発注ミス・在庫切れ・過剰在庫による損失が年間数百万円に達している\n\n【❷ ビジネス上の目的】\n3年以内に在庫管理SaaS市場で中小企業シェアNo.1を獲得し、年商10億円を達成する\n\n【❸ ユーザーへの価値】\n経営者が在庫管理に割く時間を80%削減し、本来の事業成長に集中できる環境を提供する\n\n【❹ 社会的意義】\n中小企業の生産性向上により、日本経済全体の底上げに貢献する\n\n【❺ チームのモチベーション】\n自分たちも中小企業で同じ苦労を経験しており、同じ悩みを持つ人々を助けたい'
  },
  {
    number: 2,
    title: 'エレベーターピッチ',
    description: 'Elevator Pitch',
    guide: 'エレベーターピッチは、エレベーターに乗っている短い時間（30秒〜1分）で、プロジェクトの魅力を相手に伝えるための簡潔な説明です。\n\n以下のテンプレートに沿って、文章形式で記入してください：\n\n【❶ 潜在的なニーズ / 抱えている課題】を解決したい。\n【❷ ターゲットユーザー】向けの、\n【❸ プロダクト名】は、\n【❹ プロダクトのカテゴリ】である。\nこれは【❺ 重要な利点、対価に見合う説得力のある理由】ができる。\n【❻ 最も保守的な代替手段】とは違って、\n【❼ 差別化の決定的な特徴】が備わっている。\nそして【❽ 実績や強み + 社名】だからこそ、\n【❾ 自社が取り組む理由、圧倒的な優位性】がある。',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【中小企業の在庫管理の煩雑さと、発注ミス・在庫切れによる機会損失】を解決したい。\n【年商1億〜10億円の製造・小売業の経営者】向けの、\n【ザイコマスター】は、\n【クラウド型在庫管理SaaS】である。\nこれは【リアルタイムで在庫を把握し、自動発注アラートで在庫切れを防ぎ、発注ミスを90%削減する】ができる。\n【Excelでの手作業管理や、大企業向けの高額ERPシステム】とは違って、\n【月額5,000円から使える手軽さと、既存の会計ソフトとの簡単連携】が備わっている。\nそして【自社も製造業を営んでおり、同じ課題を10年間抱えてきた経験を持つABC株式会社】だからこそ、\n【中小企業が本当に必要とする機能だけに絞り込み、誰でも使いこなせるシンプルさを実現できる】がある。'
  },
  {
    number: 3,
    title: 'パッケージデザイン',
    description: 'Product Box',
    guide: 'プロダクトを店頭の商品パッケージとして想像してください。\n顧客が店頭で手に取ったとき、どんな魅力が伝わるべきでしょうか？\n\n以下の要素を考えてパッケージをデザインしてください：\n\n【❶ キャッチコピー】\n一言で心を掴むメッセージ\n\n【❷ 主要機能トップ3】\n最も重要な機能を3つ\n\n【❸ その他の魅力的な機能】\n追加でアピールしたい機能\n\n【❹ なぜ買うべきか】\n購入を後押しする理由\n\n【❺ ターゲット】\n誰のための商品か\n\n【❻ 価格感】\nコストパフォーマンスの訴求',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ キャッチコピー】\n在庫管理を、もっとシンプルに。もっと確実に。\n\n【❷ 主要機能トップ3】\n  ① リアルタイム在庫追跡 - いつでもどこでも在庫状況を把握\n  ② 自動発注アラート - 在庫切れを事前に通知、発注忘れゼロ\n  ③ スマホ完全対応 - 外出先でも在庫確認・発注が可能\n\n【❸ その他の魅力的な機能】\nCSV一括登録、既存会計ソフトとの連携、複数倉庫管理、発注履歴分析\n\n【❹ なぜ買うべきか】\n初期費用ゼロ、導入後すぐ使える、手厚いサポート、30日間無料トライアル\n\n【❺ ターゲット】\n年商1億〜10億円の中小製造・小売業\n\n【❻ 価格感】\n月額5,000円から、大企業向けERPの1/10のコスト'
  },
  {
    number: 4,
    title: 'やらないことリスト',
    description: 'NOT List',
    guide: 'プロジェクトのスコープを明確にし、チームの焦点を絞るために、「意図的にやらないこと」を決めます。\n\nこれにより、無駄な議論や機能肥大化を防ぎ、本当に重要なことに集中できます。\n\n以下のカテゴリで整理してください：\n\n【❶ 機能面で含めないもの】\nこの機能は作らない、この範囲はカバーしない\n\n【❷ 技術面で採用しないもの】\n使わない技術、やらないアプローチ\n\n【❸ ターゲット外のユーザー】\n対象としないユーザー層\n\n【❹ 後回しにすること】\n今回は見送り、将来的に検討するもの\n\n【❺ 対応しない要求】\n明確に断ると決めたこと',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ 機能面で含めないもの】\n  ・会計機能は含めない（既存の会計ソフトとAPI連携のみ）\n  ・製造管理機能（MRP）は対応しない、在庫管理に特化\n  ・POSレジ機能は作らない\n\n【❷ 技術面で採用しないもの】\n  ・ネイティブモバイルアプリは作らない（レスポンシブWebのみ）\n  ・オンプレミス版は提供しない（クラウドのみ）\n\n【❸ ターゲット外のユーザー】\n  ・年商10億円以上の大企業は対象外（ERPを使うべき）\n  ・個人事業主は対象外（Excelで十分）\n\n【❹ 後回しにすること】\n  ・多言語対応（まず日本語のみ、将来的に英語対応）\n  ・AIによる需要予測（フェーズ2で検討）\n\n【❺ 対応しない要求】\n  ・個社ごとのカスタマイズ開発は受けない\n  ・買い切り型のライセンス販売はしない（サブスクのみ）'
  },
  {
    number: 5,
    title: 'プロジェクトコミュニティ',
    description: 'Meet the Neighbors',
    guide: 'プロジェクトを取り巻く「ご近所さん」を知りましょう。\n誰がこのプロジェクトに関わり、影響を与え、影響を受けるのか。\n\n関係者を可視化することで、コミュニケーション計画やリスク対策が立てやすくなります。\n\n以下のカテゴリで整理してください：\n\n【❶ エンドユーザー】\n実際にプロダクトを使う人々\n\n【❷ 社内ステークホルダー】\n意思決定者、承認者、協力部門\n\n【❸ 開発チーム】\nプロジェクトに直接関わるメンバー\n\n【❹ 外部パートナー】\n協力企業、ベンダー、連携先\n\n【❺ 競合】\n直接・間接的な競合サービスや企業\n\n【❻ その他の関係者】\n影響を受ける人々、規制当局など',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ エンドユーザー】\n  ・中小企業の経営者（意思決定者）\n  ・在庫管理担当者（日常利用者）\n  ・発注担当者（発注業務の実行者）\n\n【❷ 社内ステークホルダー】\n  ・経営陣（予算承認、戦略決定）\n  ・営業部門（顧客獲得、フィードバック収集）\n  ・カスタマーサポート（問い合わせ対応）\n  ・マーケティング部門（プロモーション）\n\n【❸ 開発チーム】\n  ・プロダクトマネージャー 1名\n  ・フロントエンドエンジニア 2名\n  ・バックエンドエンジニア 2名\n  ・UIデザイナー 1名\n\n【❹ 外部パートナー】\n  ・AWS（インフラ提供）\n  ・会計ソフト企業（API連携先）\n  ・決済サービス提供者（Stripe）\n\n【❺ 競合】\n  ・A社の在庫管理SaaS（中小企業向け直接競合）\n  ・B社のERPシステム（大企業向け、高価格帯）\n  ・Excel/スプレッドシート（無料の代替手段）\n\n【❻ その他の関係者】\n  ・業界団体（製造業協会など）\n  ・投資家・株主（資金提供者）'
  },
  {
    number: 6,
    title: '解決策の概要',
    description: 'Technical Solution',
    guide: 'プロジェクトをどのように実現するか、解決策の全体像を説明します。\n詳細ではなく、大まかなアプローチや方針を示してください。\n\n以下の観点で整理してください（プロジェクトの性質に応じて適宜調整）：\n\n【❶ 実現方法・手段】\nどのような方法や技術で実現するか\n\n【❷ 主要な構成要素】\nシステムや仕組みの主な構成要素\n\n【❸ データ・情報の扱い方】\nデータや情報をどう管理・活用するか\n\n【❹ 運用・提供方法】\nどこで、どのように提供・運用するか\n\n【❺ 品質・安全性の確保】\n品質管理やリスク対策の方針\n\n【❻ 外部との連携】\n外部サービスや組織との連携方法\n\n【❼ 全体設計の方針】\nプロジェクト全体の設計思想や基本方針',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ フロントエンド技術】\n  ・React 18 + TypeScript（型安全性と開発効率）\n  ・Vite（高速ビルド）\n  ・TailwindCSS（迅速なUI構築）\n  ・PWA対応（オフライン動作）\n\n【❷ バックエンド技術】\n  ・Node.js 20 + Hono（軽量高速フレームワーク）\n  ・Cloudflare Workers（エッジコンピューティング、低レイテンシ）\n  ・TypeScript（フロントエンドと型定義を共有）\n\n【❸ データベース】\n  ・Cloudflare D1（SQLite互換、Workersとシームレス連携）\n  ・データ移行ツール（既存ExcelからのCSVインポート機能）\n\n【❹ インフラ・ホスティング】\n  ・Cloudflare Pages（フロントエンド）\n  ・Cloudflare Workers（API）\n  ・グローバルCDN（世界中で高速アクセス）\n\n【❺ 認証・セキュリティ】\n  ・JWT（トークンベース認証）\n  ・パスワードのbcryptハッシュ化\n  ・HTTPS強制、CORS設定\n\n【❻ 外部連携】\n  ・会計ソフトAPI連携（freee、マネーフォワード）\n  ・Stripe決済API（サブスク課金）\n  ・SendGrid（メール通知）\n\n【❼ アーキテクチャ方針】\n  ・RESTful API設計\n  ・マイクロサービスは見送り（モノリス構成でシンプルに）\n  ・スケーラビリティよりも初期開発速度を重視'
  },
  {
    number: 7,
    title: '夜も眠れない問題',
    description: 'What Keeps Us Up at Night',
    guide: '「もしこうなったらどうしよう…」というプロジェクトのリスクや懸念事項を洗い出します。\n\n隠さずに正直に書き出すことで、事前に対策を打つことができます。\n\n以下のカテゴリで整理してください：\n\n【❶ 技術的リスク】\n技術的な不確実性や課題\n\n【❷ スケジュール・リソースのリスク】\n期限や人員に関する懸念\n\n【❸ ビジネス・市場リスク】\n競合や市場環境の変化\n\n【❹ ユーザー受容性のリスク】\nユーザーに受け入れられるか\n\n【❺ セキュリティ・コンプライアンス】\n法的・規制的な懸念\n\n【❻ チーム・組織のリスク】\nチーム内部の課題',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ 技術的リスク】\n  ・既存データ移行の複雑さ（Excelフォーマットが各社バラバラ）\n  ・会計ソフトAPIの仕様変更リスク\n  ・大量データ処理時のパフォーマンス問題\n  ・Cloudflare D1の制限（行数・サイズ）に引っかかる可能性\n\n【❷ スケジュール・リソースのリスク】\n  ・6ヶ月で完成予定だが、MVP完成まで3ヶ月かかる見込み\n  ・エンジニア2名が途中で退職するリスク\n  ・デザイナーが他プロジェクトと兼任のため、リソース不足\n\n【❸ ビジネス・市場リスク】\n  ・競合A社が同様の機能を先にリリースする可能性\n  ・中小企業の予算縮小で導入が進まない\n  ・想定より獲得単価（CAC）が高く、収益化に時間がかかる\n\n【❹ ユーザー受容性のリスク】\n  ・中小企業がクラウドサービスに抵抗感を持つ可能性\n  ・Excelに慣れたユーザーが移行に消極的\n  ・UI/UXが複雑で使いこなせない\n\n【❺ セキュリティ・コンプライアンス】\n  ・在庫データの漏洩リスク\n  ・個人情報保護法への対応が不十分\n  ・SOC2認証が取得できず、大手顧客が契約できない\n\n【❻ チーム・組織のリスク】\n  ・チーム内のコミュニケーション不足で認識齟齬\n  ・経営陣の優先順位変更でリソース削減される\n  ・技術的負債が蓄積し、後から修正が困難になる'
  },
  {
    number: 8,
    title: '期間を見極める',
    description: 'Size It Up',
    guide: 'プロジェクトにどれくらいの時間がかかるか、規模感を見極めます。\n大まかな見積もりで構いません。\n\n以下の観点で整理してください：\n\n【❶ 全体期間】\nプロジェクト全体でどのくらいかかるか\n\n【❷ フェーズ分け】\n主要なマイルストーンとその期間\n\n【❸ 各フェーズの成果物】\n何を完成させるか\n\n【❹ クリティカルパス】\nどこがボトルネックになりそうか\n\n【❺ バッファ】\n余裕時間の確保',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ 全体期間】\n6ヶ月（2024年4月〜9月）\n\n【❷ フェーズ分け】\n\n■ フェーズ1: 要件定義・設計（1ヶ月: 4月）\n  ・ユーザーインタビュー実施（中小企業5社）\n  ・画面設計・DB設計完了\n  ・技術スタック確定\n\n■ フェーズ2: MVP開発（2.5ヶ月: 5月中旬〜7月）\n  ・認証機能（ユーザー登録・ログイン）\n  ・基本的な在庫CRUD\n  ・在庫一覧・検索機能\n  ・発注アラート機能\n  ・CSV一括登録\n\n■ フェーズ3: ベータテスト（1.5ヶ月: 8月）\n  ・5社でベータテスト実施\n  ・フィードバック収集と改善\n  ・パフォーマンスチューニング\n  ・ドキュメント整備\n\n■ フェーズ4: 本番リリース・初期改善（1ヶ月: 9月）\n  ・正式リリース\n  ・マーケティング開始\n  ・初期ユーザーサポート\n  ・バグ修正と機能改善\n\n【❸ 各フェーズの成果物】\n  ・フェーズ1終了時: 設計書、画面モックアップ\n  ・フェーズ2終了時: 動作するMVP（デモ可能）\n  ・フェーズ3終了時: ベータ版、ユーザーフィードバックレポート\n  ・フェーズ4終了時: 本番稼働、最初の10社獲得\n\n【❹ クリティカルパス】\n  ・会計ソフトAPI連携の開発（技術的に不確実性が高い）\n  ・データ移行機能の開発（各社のExcel形式が異なるため複雑）\n\n【❺ バッファ】\n  ・各フェーズに20%のバッファを確保\n  ・最悪の場合、8ヶ月まで延長可能（ただし10月までには必ずリリース）'
  },
  {
    number: 9,
    title: '何を諦めるのか',
    description: 'Trade-off Sliders',
    guide: 'プロジェクトでは「全て完璧に」は不可能です。\nスコープ、時間、予算、品質のトレードオフを明確にしましょう。\n\n各要素について、どこまで妥協できるか、優先順位を決めてください。\n\n以下の要素を5段階で評価してください：\n\n【❶ スコープ（機能範囲）】\n全機能実装 ← → 最小限のみ\n\n【❷ 時間（スケジュール）】\n絶対厳守 ← → 柔軟に延長可能\n\n【❸ 予算（コスト）】\n予算内必須 ← → オーバーOK\n\n【❹ 品質】\n完璧な品質 ← → 多少の不具合は許容\n\n【❺ チームの持続可能性】\n残業なし ← → 多少の無理は可能',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ スコープ（機能範囲）】\n  優先度: ★★★☆☆（柔軟に調整可能）\n  ・MVP機能（在庫CRUD、アラート）は絶対実装\n  ・会計ソフト連携は後回しでもOK\n  ・レポート機能は将来対応でも構わない\n  → 判断: スコープは削減可能。コア機能に集中する\n\n【❷ 時間（スケジュール）】\n  優先度: ★★★★☆（できるだけ守りたい）\n  ・9月末リリースが目標だが、10月中旬までは許容範囲\n  ・競合が同様の機能を出す前にリリースしたい\n  ・ただし、品質を犠牲にしてまで急ぐのはNG\n  → 判断: 1ヶ月程度の遅延は許容。それ以上は避けたい\n\n【❸ 予算（コスト）】\n  優先度: ★★★☆☆（ある程度柔軟）\n  ・当初予算500万円だが、必要なら600万円まで増額可能\n  ・ただしインフラコストは月10万円厳守（収益モデルに影響）\n  → 判断: 開発費は20%までオーバーOK、運用コストは厳守\n\n【❹ 品質】\n  優先度: ★★★★★（絶対妥協しない）\n  ・在庫データの正確性は最重要（ビジネスクリティカル）\n  ・セキュリティも絶対に妥協できない\n  ・多少のUI/UXの粗さは許容するが、データ整合性は完璧に\n  → 判断: データ品質とセキュリティは最優先、UI改善は後回しOK\n\n【❺ チームの持続可能性】\n  優先度: ★★★★☆（できるだけ健全に）\n  ・月20時間程度の残業は許容範囲\n  ・ただし連続した徹夜作業は避ける\n  ・リリース前1ヶ月は多少の負荷増は覚悟\n  → 判断: 短期的な負荷増は可能だが、燃え尽きないよう注意\n\n【最終的な優先順位】\n  1位: 品質（データ正確性・セキュリティ）\n  2位: スケジュール（1ヶ月遅延までは許容）\n  3位: チームの持続可能性\n  4位: 予算（20%増まで許容）\n  5位: スコープ（機能削減で調整）'
  },
  {
    number: 10,
    title: '何がどれだけ必要か',
    description: "What's Going to Give",
    guide: 'プロジェクトを成功させるために必要なリソースを具体的に洗い出します。\n\n「あればいいな」ではなく「絶対に必要」なものをリストアップしてください。\n\n以下のカテゴリで整理してください：\n\n【❶ 人員】\n誰が何人必要か、役割ごとに\n\n【❷ 予算】\n開発費、運用費、その他費用\n\n【❸ 時間】\n各メンバーの稼働率、期間\n\n【❹ ツール・サービス】\n必要なソフトウェア、サブスクリプション\n\n【❺ インフラ・設備】\nサーバー、開発環境、その他設備\n\n【❻ 外部リソース】\n外注、コンサルタント、パートナー',
    example: '例: 在庫管理SaaS「ザイコマスター」の場合\n\n【❶ 人員】（6ヶ月間）\n  ■ 開発チーム\n    ・プロダクトマネージャー 1名（フルタイム）\n    ・フロントエンドエンジニア 2名（フルタイム）\n    ・バックエンドエンジニア 2名（フルタイム）\n    ・UIデザイナー 1名（最初の2ヶ月フルタイム、その後週2日）\n\n  ■ ビジネスサイド\n    ・営業担当 1名（最後の3ヶ月からフルタイム）\n    ・カスタマーサポート 1名（ベータテストから、最初は兼任）\n\n  合計: 開発5名、ビジネス2名\n\n【❷ 予算】\n  ■ 開発費用\n    ・人件費: 500万円（@100万/月 × 5名 × 1ヶ月分相当の工数）\n    ・外注費: 50万円（デザイン素材、ロゴ作成など）\n\n  ■ 運用費用（月額）\n    ・Cloudflareインフラ: 2万円/月\n    ・OpenAI API: 3万円/月\n    ・その他SaaS: 5万円/月（Stripe、SendGrid、モニタリングツールなど）\n\n  ■ その他\n    ・マーケティング費: 100万円（初期プロモーション）\n    ・予備費: 100万円（20%バッファ）\n\n  合計予算: 750万円（初期）+ 10万円/月（運用）\n\n【❸ 時間】\n  ・全体期間: 6ヶ月（2024年4月〜9月）\n  ・エンジニア稼働率: 100%（他プロジェクトとの兼任なし）\n  ・デザイナー稼働率: 最初2ヶ月100%、その後40%\n  ・PM稼働率: 100%\n\n【❹ ツール・サービス】\n  ■ 開発ツール\n    ・GitHub（チームプラン）: $4/user/月\n    ・Figma（プロフェッショナル）: $12/user/月\n    ・Slack（プロプラン）: $7.25/user/月\n\n  ■ 開発環境\n    ・VSCode（無料）\n    ・Postman（無料プラン）\n\n  ■ プロジェクト管理\n    ・Linear（スタンダード）: $8/user/月\n    ・Notion（チームプラン）: $8/user/月\n\n  ■ モニタリング・分析\n    ・Sentry（チームプラン）: $26/月\n    ・Google Analytics（無料）\n\n【❺ インフラ・設備】\n  ■ 本番環境\n    ・Cloudflare Pages（フロントエンド）\n    ・Cloudflare Workers（API）\n    ・Cloudflare D1（データベース）\n\n  ■ 開発環境\n    ・ローカル開発環境（各メンバーのPC）\n    ・ステージング環境（Cloudflare Preview）\n\n  ■ その他\n    ・テスト用の中小企業アカウント（5社分の協力が必要）\n\n【❻ 外部リソース】\n  ・デザイン外注: イラスト素材、アイコン作成（50万円）\n  ・会計ソフトAPI連携の技術サポート（必要に応じて）\n  ・ベータテスト協力企業 5社（無償提供の代わりに協力）\n  ・法務相談（利用規約、プライバシーポリシー作成）: 20万円'
  },
];
